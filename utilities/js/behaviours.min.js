"use strict";(function(a,b){var c=Number.isInteger;function d(a){return!/(^|:)\d+(:|$)/.test(a)||console.error("Name (or group) mustn't be numeric.")}var e={};a[b]={add:function add(a,b){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:10;if(d(a)){var g=a.split(":"),h=e;return g.forEach(function(d,e){if(e===g.length-1&&!!h[d]){if(h=h[d],!!h[f]&&h[f].toString()===b.toString())return;var i=Object.keys(h).filter(function(a){return c(1*a)})[0]||!1;return!1===i?h[f]=b:h[i].toString()===b.toString()?(delete h[i],void(h[f]=b)):console.error("A behaviour with the name '".concat(a,"' already exists."))}h=h[d]?h[d]:h[d]={},e===g.length-1&&(h[f]=b)}),this}},remove:function remove(a){var f=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];if(d(a)){var g=a.split(":"),h=e;return g.forEach(function(d,e){if(h){if(!h[d])return h=console.error("A behaviour or group with the name '".concat(a,"' doesn't exists."));if(e===g.length-1)if(f)delete h[d];else{var i=Object.keys(h[d]).filter(function(a){return c(1*a)})[0]||!1;if(!1===i)return console.error("There is no behaviour named '".concat(a,"'. If you meant to remove the group '").concat(a,"' please use `").concat(b,".remove( '").concat(a,"', true );`."));delete h[d][i]}h=h[d]}}),this}},attach:function attach(a,b,f){!a||"[object Object]"!==a.toString()||b||f||(f=a,a=""),f&&"[object Object]"!==f.toString()&&b&&"[object Object]"===b.toString()&&(f=b,b=null),(a instanceof HTMLDocument||a instanceof HTMLElement)&&!(b instanceof HTMLDocument||b instanceof HTMLElement)&&(b=a,a="");var g={},h=e;if(a){if(!d(a))return;var i=a.split(":");i.forEach(function(b){return h?h[b]?void(h=h[b]):h=console.error("A behaviour or group with the name '".concat(a,"' doesn't exists.")):void 0})}return function b(a){Object.keys(a).forEach(function(d){c(1*d)?(!g[d]&&(g[d]=[]),g[d].push(a[d])):b(a[d])})}(h),g=Object.keys(g).sort().reduce(function(a,b){return a[b]=g[b],a},{}),Object.values(g).flat().forEach(function(a){return a(b||document,f)}),this}},document.addEventListener("DOMContentLoaded",function(){a[b].attach()},!1)})(window.behavioursScope||window,window.behavioursName||"Behaviours");