"use strict";var _airDatepicker=_interopRequireDefault(require("./module/air-datepicker")),_de=_interopRequireDefault(require("./module/locale/de")),_en=_interopRequireDefault(require("./module/locale/en"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var locale=(document.documentElement.getAttribute("lang")||"en").split("-")[0];Behaviours.add("datepicker",function(a){[].forEach.call(a.querySelectorAll("input[type=\"date\"]"),function(a){a.setAttribute("type","text");var b={selectedDates:[Date.parse(a.value)],dateFormat:phpDateFormatToJs(a.getAttribute("data-format")||""),minDate:a.getAttribute("min")||"",maxDate:a.getAttribute("max")||"",locale:{de:_de["default"],en:_en["default"]}[locale],position:"bottom center",buttons:["today"],onSelect:function onSelect(b){var c=b.date,d=b.formattedDate,e=b.datepicker;a.dispatchEvent(new CustomEvent("airDatepicker:select",{detail:c,bubbles:!0}))}};b=Alter["do"]("airDatepicker:options",b);var c=new _airDatepicker["default"](a,b);a.addEventListener("onSelect",function(a){console.log(a)}),a.dispatchEvent(new CustomEvent("datepicker:init",{detail:{dp:c,options:b},bubbles:!0}))})});function phpDateFormatToJs(a){var b={j:"d",d:"dd",D:"E",l:"EEEE",n:"M",m:"MM",M:"MMM",F:"MMMM",y:"yy",Y:"yyyy",o:"yyyy",g:"h",G:"H",h:"hh",H:"HH",i:"mm",A:"AA",a:"AA"};return a.replace(/[a-z]+/ig,function(a){return a in b?b[a]:a})}