(()=>{"use strict";const e=window.React,l=window.wp.i18n,t=window.wp.blocks,o=window.wp.blockEditor,n=window.wp.components,c=window.wp.compose,a=window.wp.primitives,i=(0,e.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(a.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"})),r=(0,e.createElement)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)(a.Path,{d:"M18 8H6c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zm.5 6c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-4c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v4zM4 4v1.5h16V4H4zm0 16h16v-1.5H4V20z"})),s=(0,c.compose)([(0,c.withState)()])((({attributes:t,setAttributes:c,...a})=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o.InspectorControls,null,(0,e.createElement)(n.PanelBody,{className:"accordion-settings-panel"},(0,e.createElement)(n.ToggleControl,{label:(0,l.__)("Multiple","accordion"),help:(0,l.__)("Allow multiple items to be opened at once.","accordion"),checked:t.multiple,onChange:e=>{c({multiple:e}),e||(c({openAll:!1}),c({openFirst:!0}))}}),(0,e.createElement)(n.ToggleControl,{label:(0,l.__)("All collapsible","accordion"),help:(0,l.__)("Current behaviour:","accordion")+" "+(t.closeAll?(0,l.__)("allow to collapse all items.","accordion"):(0,l.__)("at least one item will be always open.","accordion")),checked:t.closeAll,onChange:e=>{c({closeAll:e}),e||t.openAll||c({openFirst:!0})}}),(0,e.createElement)(n.PanelBody,{title:(0,l.__)("Loading behavior","accordion"),initialOpen:!1,icon:i},(0,e.createElement)(n.ToggleControl,{label:(0,l.__)("Open all","accordion"),help:(0,l.__)("All items are open when loading.","accordion"),disabled:!t.multiple,checked:t.multiple&&t.openAll,onChange:e=>{c({openAll:e}),e?c({openFirst:!1}):t.closeAll||c({openFirst:!0})}}),(0,e.createElement)(n.ToggleControl,{label:(0,l.__)("Open first item","accordion"),help:(0,l.__)("Open first item when loading.","accordion"),disabled:t.openAll||!t.closeAll,checked:t.openFirst,onChange:e=>c({openFirst:e})})))),(0,e.createElement)(o.InnerBlocks,{template:[["accordion/item",{}]],allowedBlocks:["accordion/item"]}))));(0,t.registerBlockType)("accordion/widget",{title:(0,l.__)("Accordion","accordion"),description:(0,l.__)("Collapsible content.","accordion"),icon:r,category:"widgets",keywords:[(0,l.__)("Accordion","accordion")],supports:{anchor:!0,align:["wide","full"]},attributes:{multiple:{type:"boolean",default:!1},openAll:{type:"boolean",default:!1},closeAll:{type:"boolean",default:!1},openFirst:{type:"boolean",default:!0}},edit:l=>(0,e.createElement)(s,{...l}),save:({attributes:l,...t})=>{let n=[];return l.multiple&&n.push("allow-multiple"),l.closeAll&&n.push("allow-close-all"),l.openAll?n.push("open-all"):l.openFirst&&n.push("open-first"),(0,e.createElement)("div",{className:n.join(" ")},(0,e.createElement)(o.InnerBlocks.Content,null))}}),(0,t.registerBlockType)("accordion/item",{title:(0,l.__)("Item","accordion"),parent:["accordion/block"],edit:l=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o.InnerBlocks,{template:[["core/heading"],["accordion/item-content",{}]],templateLock:"all"})),save:function({attributes:l,...t}){return(0,e.createElement)("div",null,(0,e.createElement)(o.InnerBlocks.Content,null))}}),(0,t.registerBlockType)("accordion/item-content",{title:(0,l.__)("Content","accordion"),parent:["accordion/item"],edit:l=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o.InnerBlocks,{template:[["core/paragraph"]],templateLock:!1})),save:function({attributes:l,...t}){return(0,e.createElement)("div",null,(0,e.createElement)(o.InnerBlocks.Content,null))}})})();